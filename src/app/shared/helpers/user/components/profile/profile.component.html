<ng-container *ngIf="sharedUserService.me != null; else notLogin">
  <span>Hello, {{ sharedUserService.me.username }}</span>
  <span *ngIf="sharedUserService.me.role === 2">
    ({{ sharedUserService.me.displayBalance }} $)
  </span>
  <mat-menu #appMenu="matMenu">
    <button mat-menu-item routerLink="profile">Profile</button>
    <button mat-menu-item routerLink="cart">Cart <span *ngIf="sharedUserService.me.cart.length > 0">({{ sharedUserService.me.cart.length }})</span></button>
    <button mat-menu-item (click)="logout()">Logout</button>
    <button mat-menu-item>Help</button>
  </mat-menu>

  <button mat-icon-button [matMenuTriggerFor]="appMenu">
    <mat-icon>more_vert</mat-icon>
  </button>
</ng-container>
<ng-template #notLogin>
  <mat-menu #appMenu="matMenu">
    <button mat-menu-item><a routerLink="login" class="link">Login</a></button>
    <button mat-menu-item><a routerLink="register" class="link">Register</a></button>
    <button mat-menu-item><a routerLink="cart" class="link">Cart</a></button>
    <button mat-menu-item><a routerLink="help" class="link">Help</a></button>
  </mat-menu>

  <button mat-icon-button [matMenuTriggerFor]="appMenu">
    <mat-icon>more_vert</mat-icon>
  </button>
</ng-template>